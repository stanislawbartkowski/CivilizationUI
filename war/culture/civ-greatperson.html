<dom-module id="civ-greatperson">
  <template>
    <style>
      :host {
        background-color: #fcfde9;
        border-radius: 10px;
        display: inline-block;
        position : relative;
        width : 260px;
        height: 150px;
        border: 1px solid;
      }
      .header {
         font-size : 85%
      }
      .name {
        display: inline-block;
        position:absolute;
        font-size : 95%;
        top : 2px;
        left: 2px;
        font-family: Arial, Helvetica, sans-serif;
      }
      .sq {
        display: inline-block;
        position:absolute;
        top : 22px;
        left: 2px;
      }
      .desc {
        display: inline-block;
        width:70%;
        position:absolute;
        top : 22px;
        left: 75px;
      }

      hr {
        display: block;
        height: 1px;
        border: 0;
        border-top: 1px solid #ccc;
        margin: 1em 0;
        padding: 0;
     }

     .not {
       position:absolute;
       bottom : 5px;
       right : 5px;
       height:15px;
     }


    </style>

    <div>
      <div class="header name">{{person.t}}&nbsp;&nbsp;{{person.name}}&nbsp;:&nbsp;{{person.type}}</div>
      <hr/>
      <civ-square class="sq" id="sq" ></civ-square>
      <div class="header desc">{{person.desc}}</div>

      <civ-implemented id="notimplemented" class="not"></civ-implemented>
    </div>
  </template>

  <script>

  class CivGreatPerson extends Polymer.CivData(Polymer.CivLocalize(Polymer.Element)) {
        static get is() {return 'civ-greatperson'}
        static get properties() {
          return {
            person : {
              type : Object
            },
            ptype : {
              type : Object
            }
          }
         }

        refresh(data) {

          const g = C.findGreatPerson(data)
          this.person = g.person
          this.ptype = g.type

          const j = {}
          j.terrain = ""
          j.greatperson = data
          this.$.sq.draw(j)

          const ni = this.$.notimplemented
          ni.draw(this.person.ni)
        }
    }
    customElements.define(CivGreatPerson.is, CivGreatPerson);
  </script>
</dom-module>
