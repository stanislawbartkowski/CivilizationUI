 <dom-module id="reveal2-dialog">
  <template>
  
    <style>   
       :host {
        display: block;
      }
            
    </style>
    
    
    <paper-dialog id="dialog" modal>
      <h3>{{localize('revealtwotiles')}}</h3>
      <p/>
      
      <div>{{localize('choosetilequestion')}}</div>
                  
      <div class="buttons">
        <paper-button id="up"  on-click="_onReveal">
            <iron-icon icon="arrow-upward"></iron-icon>  
           {{localize('tileup')}}
        </paper-button>
        
        <paper-button id="right"  on-click="_onReveal">
           <iron-icon icon="arrow-forward"></iron-icon>
           {{localize('tileright')}}
        </paper-button>
        
        <paper-button dialog-dismiss>{{localize('cancellabel')}}</paper-button> 
      </div>
      
    </paper-dialog>
  </template>

  <script>
    class Reveal2Dialog extends Polymer.CivLocalize(Polymer.Element) {
      static get is() { return 'reveal2-dialog'; }
      
      static get properties() {
          return {
            itemize: {
              type: Object,
              value: undefined
            }
          }
      }
      
      _onReveal(source) {
          const id = source.currentTarget.id
          const li = this.itemize.list
          var k = 0
          for (var i=0; i<li.tiles.length; i++) {
        	  const r = li.tiles[i]
        	  switch (r.orientation.toLowerCase()) {
        	  case "up" : {
        		   if (id == "up") k = i;
        		   break;
        	  }
        	  case "down" : {
                  if (id == "up") k = i;
                  break;        		  
        	  }
        	  case "left" : {
        		  if (id == "right") k = i;
        		  break;
        	  }
        	  case "right" : {
                  if (id == "right") k = i;
                  break;        		  
        	  }
        	 } // switch
          } // for
          C.confirmdialog(this.localize('areyousurequestion'),e => {
        	   this.closeIt()
        	   const r = li.tiles[k]
        	   const row = r.p.row
        	   const col = r.p.col
        	   const orientation = r.orientation
        	   window.executecommandS("REVEALTILE",row,col,orientation)
           })
          
          
//          var r = list.tiles[0]
//          pa.row = r.p.row
//          pa.col = r.p.col
//          pa.param = r.orientation



    	  
      }
      
      openIt(itemize) {
    	  this.itemize = itemize
          this.$.dialog.open();
      }
      
      closeIt() {
          this.$.dialog.close();
        }
     
    }

    window.customElements.define(Reveal2Dialog.is, Reveal2Dialog);
  </script>
</dom-module>